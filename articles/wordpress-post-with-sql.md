---
title: "WordPressã®è¨˜äº‹æŠ•ç¨¿ã‚’SQLã§ã‚„ã‚‹æ–¹æ³•"
emoji: "ğŸ’"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["WordPress", "SQL"]
published: true
---

# ã¯ã˜ã‚ã«
WordPressã‚’ä½¿ã£ã¦è¨˜äº‹ã‚’æŠ•ç¨¿ã—ã¦ã„ã‚‹ã¨ã€ç®¡ç†ç”»é¢ã®ç´°ã‹ã„éƒ¨åˆ†ã§æ”¹å–„ã—ãŸã„ã¨ã“ã‚ãŒå‡ºã¦ãã‚‹ã¨æ€ã„ã¾ã™ã€‚
ç§ãŒä½œæ¥­ã—ã¦ã¦æ”¹å–„ã—ãŸã„ã¨æ€ã£ãŸç‚¹ã¯ä¸‹è¨˜ã§ã™ã€‚

## æ”¹å–„ã—ãŸã„ç‚¹
- ã‚¨ãƒ‡ã‚£ã‚¿ãŒä½¿ã„ã«ãã„
- æŠ•ç¨¿ã®è¦ç´ ã‚’ä¸€ç®‡æ‰€ã«ã¾ã¨ã‚ãŸã„ï¼ˆå…¥åŠ›ç®‡æ‰€ãŒå¤šã„ï¼‰
â€ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§è§£æ±ºã—ãŸããªã„ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’æ¢ã™ã®ãŒé¢å€’ï¼‰
- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å¼·åŒ–ã—ãŸã„
- ä½œæ¥­ã‚’è‡ªå‹•åŒ–ã—ãŸã„

çµå±€ã€ç®¡ç†ç”»é¢ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã€ã„ã‚ã„ã‚è¨­å®šã—ã¦ã€ã‚„ã£ã¨ã®æ€ã„ã§æŠ•ç¨¿ã—ã¦ã„ã‚‹ã®ã§ã€ç¿’æ…£åŒ–ã®å¦¨ã’ã«ãªã£ã¦ã¾ã™ã€‚
ã“ã®ã‚ãŸã‚Šã‚’ã‚¯ãƒªã‚¢ã«ã—ã¦ã§ãã‚‹ã ã‘æŠ•ç¨¿ä½œæ¥­ã‚’ç°¡ç´ åŒ–ã—ã¦ã„ãã¾ã™ã€‚

# ã“ã®è¨˜äº‹ã§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨
ã“ã®è¨˜äº‹ã§ã¯ã€ã€ŒæŠ•ç¨¿ã®è¦ç´ ã‚’ä¸€ç®‡æ‰€ã«ã¾ã¨ã‚ãŸã„ã€ã¨ã„ã†è¦ä»¶ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ã¦ã€ã“ã‚Œã‚’æ”¹å–„ã—ã¾ã™ã€‚
æœ€çµ‚çš„ã«ã¯ã€SQLã®ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã§WordPressã¸ã®æŠ•ç¨¿ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚

# WordPressã®è¨˜äº‹æŠ•ç¨¿ã®ä»•çµ„ã¿
ã¾ãšã€WordPressã®æŠ•ç¨¿ã®ä»•çµ„ã¿ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
1. ç®¡ç†ç”»é¢ã§å¿…è¦é …ç›®ã‚’å…¥åŠ›ã—ã¦ã€ã€Œå…¬é–‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã€‚
2. å…¥åŠ›ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆæƒ…å ±ã‚’ã€ã€Œwp_postsã€ãƒ†ãƒ¼ãƒ–ãƒ«ã«Insertã€‚
ä»¥ä¸Šã€‚

ã¤ã¾ã‚Šã€ã€Œwp_postsã€ãƒ†ãƒ¼ãƒ–ãƒ«ã«SQLæ–‡ã§ç›´æ¥Insertã™ã‚Œã°ã€ç®¡ç†ç”»é¢ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦æŠ•ç¨¿å¯èƒ½ã§ã™ã€‚

ã€Œwp_postmetaã€ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã‹ã€æŠ•ç¨¿ã«é–¢ä¿‚ã—ã¦ãã†ã«æ€ãˆã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªè¨˜äº‹æŠ•ç¨¿ã®ã¿ãªã‚‰ä¸è¦ã§ã™ãŒã€
SEOé–¢é€£ã®æƒ…å ±ã‚‚ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼åŒ–ã—ãŸã„å ´åˆã€è¿½åŠ ãŒå¿…è¦ãªã®ã§ã€ãã‚Œã¯åˆ¥è¨˜äº‹ã§è§£èª¬ã—ã¾ã™ã€‚

# WordPressã®è¨˜äº‹æŠ•ç¨¿ç”¨SQL
ã§ã¯ã€ã“ã“ã‹ã‚‰ã¯å®Ÿéš›ã«SQLã‚’è€ƒãˆã¦ã„ãã¾ã™ã€‚

## Insertå…ˆã®ã€Œwp_postsã€ãƒ†ãƒ¼ãƒ–ãƒ«
WordPressã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€wp_postsãƒ†ãƒ¼ãƒ–ãƒ«ã®æ§‹é€ ã‚’ç¢ºèªã—ã¾ã™ã€‚

```
mysql> desc wp_posts;
+-----------------------+-----------------+------+-----+---------------------+----------------+
| Field                 | Type            | Null | Key | Default             | Extra          |
+-----------------------+-----------------+------+-----+---------------------+----------------+
| ID                    | bigint unsigned | NO   | PRI | NULL                | auto_increment |
| post_author           | bigint unsigned | NO   | MUL | 0                   |                |
| post_date             | datetime        | NO   |     | 0000-00-00 00:00:00 |                |
| post_date_gmt         | datetime        | NO   |     | 0000-00-00 00:00:00 |                |
| post_content          | longtext        | NO   |     | NULL                |                |
| post_title            | text            | NO   |     | NULL                |                |
| post_excerpt          | text            | NO   |     | NULL                |                |
| post_status           | varchar(20)     | NO   |     | publish             |                |
| comment_status        | varchar(20)     | NO   |     | open                |                |
| ping_status           | varchar(20)     | NO   |     | open                |                |
| post_password         | varchar(255)    | NO   |     |                     |                |
| post_name             | varchar(200)    | NO   | MUL |                     |                |
| to_ping               | text            | NO   |     | NULL                |                |
| pinged                | text            | NO   |     | NULL                |                |
| post_modified         | datetime        | NO   |     | 0000-00-00 00:00:00 |                |
| post_modified_gmt     | datetime        | NO   |     | 0000-00-00 00:00:00 |                |
| post_content_filtered | longtext        | NO   |     | NULL                |                |
| post_parent           | bigint unsigned | NO   | MUL | 0                   |                |
| guid                  | varchar(255)    | NO   |     |                     |                |
| menu_order            | int             | NO   |     | 0                   |                |
| post_type             | varchar(20)     | NO   | MUL | post                |                |
| post_mime_type        | varchar(100)    | NO   |     |                     |                |
| comment_count         | bigint          | NO   |     | 0                   |                |
+-----------------------+-----------------+------+-----+---------------------+----------------+
23 rows in set (0.00 sec)
```

ä¸»ãªæ³¨æ„ç‚¹ã¯ä¸‹è¨˜ã§ã™ã€‚

## ID
auto_incrementãªã®ã§ã€NULLã‚’Insertã—ãŸã‚‰é€£ç•ªãŒä»˜ä¸ã•ã‚Œã¾ã™ã€‚
Insertæ–‡ã§ã¯NULLã«è¨­å®šã—ã¾ã—ã‚‡ã†ã€‚

## post_content
post_contentãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒæŠ•ç¨¿æ–‡ç« ã‚’å…¥ã‚Œã‚‹ã‚«ãƒ©ãƒ ã§ã™ã€‚
markdownã®ã‚¨ãƒ‡ã‚£ã‚¿ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å…¥ã‚Œã¦ã¦ã‚‚ã€
ã“ã“ã§markdownè¡¨è¨˜ãŒHTMLã«å¤‰æ›ã•ã‚Œã‚‹ã‚ã‘ã§ã¯ãªã„ã®ã§ã€
æ™®é€šã«HTMLã§å…¥åŠ›ã—ã¾ã—ã‚‡ã†ã€‚

ãã®ã†ã¡markdownã‚’SQLã«å¤‰æ›ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œã‚ŠãŸã„ã¨æ€ã„ã¾ã™ã€‚

## post_status
è¨˜äº‹å…¬é–‹ã™ã‚‹ã‹ã©ã†ã‹ã®åˆ¤å®šå€¤ã§ã™ã€‚ã€Œpublishã€ã¨ã™ã‚‹ã“ã¨ã§å…¬é–‹çŠ¶æ…‹ã§Insertã—ã¾ã™ã€‚

## post_name
ãƒ‘ãƒ¼ãƒãƒªãƒ³ã‚¯ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§ã™ã€‚ã‚ã‹ã‚Šã‚„ã™ã„URLã‚’ä»˜ã‘ã¦ãŠãã¾ã—ã‚‡ã†ã€‚
å€‹äººçš„ã«ã¯ç®¡ç†ç”»é¢ã‹ã‚‰ã®æŠ•ç¨¿ã§ã“ã‚ŒãŒä¸€ç•ªé¢å€’ãªä½œæ¥­ã§ã—ãŸã€‚
SQLåŒ–ã—ã¦ãŠã‘ã°å…ˆã€…ã®ä¸€æ‹¬å¤‰æ›´ã‚‚å®¹æ˜“ã§ã™ã€‚

## post_type
æŠ•ç¨¿ã‹å›ºå®šãƒšãƒ¼ã‚¸ã‹ã®åˆ¤å®šå€¤ã§ã™ã€‚æŠ•ç¨¿ã®å ´åˆã€Œpostã€ã€å›ºå®šãƒšãƒ¼ã‚¸ã®å ´åˆã€Œpageã€ã«è¨­å®šã—ã¾ã™ã€‚

# ã‚µãƒ³ãƒ—ãƒ«SQL
ã‚ã‹ã‚Šã‚„ã™ã„ã‚ˆã†ã«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã‚’ã‚³ãƒ¡ãƒ³ãƒˆã«å…¥ã‚Œã¦Insertæ–‡ã‚’ä½œæˆã—ã¾ã—ãŸã€‚

```
INSERT INTO
# ãƒ†ãƒ¼ãƒ–ãƒ«å
  `wp_posts`
VALUES
  (
# ID (auto_incrementãªã®ã§null)
    null,
# post_author
    1,
# post_date
    current_timestamp,
# post_date_gmt
    (current_timestamp - interval 9 hour),
# post_content
    '<h2>WordPressã®è¨˜äº‹æŠ•ç¨¿ã‚’SQLã§ã‚„ã‚‹æ–¹æ³•</h2>\r\n<p>SAMPLE</p>',
# post_title
    'WordPressã®è¨˜äº‹æŠ•ç¨¿ã‚’SQLã§ã‚„ã‚‹æ–¹æ³•',
# post_excerpt
    'WordPressã®è¨˜äº‹æŠ•ç¨¿ã‚’SQLã§ã‚„ã‚‹æ–¹æ³•',
# post_status
    'publish',
# comment_status
    'close',
# ping_status
    'open',
# post_password
    '',
# post_name
    'wordpress-post-with-sql',
# to_ping
    '',
# pinged
    '',
# post_modified
    current_timestamp,
# post_modified_gmt
    (current_timestamp - interval 9 hour),
# post_content_filtered
    '',
# post_parent
    0,
# guid
    '',
# menu_order
    0,
# post_type
    'post',
# post_mime_type
    '',
# comment_count
    0
  );
```

# WordPressã¸ã®è‡ªå‹•æŠ•ç¨¿æ–¹æ³•
ã‚µãƒ³ãƒ—ãƒ«SQLã‚’insert.sqlã¨ã—ã¦ä¿å­˜ã—ãŸä¸Šã§ã€ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
```
mysql -u root -p -h localhost wordpress < insert.sql
```
rootãƒ¦ãƒ¼ã‚¶ãƒ¼ã§localhostã®wordpressãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«insert.sqlã‚’æµã—è¾¼ã‚“ã§ã„ã¾ã™ã€‚

# ã¾ã¨ã‚
